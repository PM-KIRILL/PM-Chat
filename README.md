## PM-Chat - Скрипт интеграции Minecraft с Discord, написанный на языке Python

### Возможности:
- Теоретически совместим с любым сервером Minecraft (сообщения об достижениях будут работать только в версии 1.12 и выше), не требует установки плагина.
- Полностью отделен от сервера Minecraft.
- Отслеживает вход и выход игроков, отправку сообщений в чат, получение достижений и смерть игроков.
- Может обнаруживать старт и остановку сервера.
- Читает только сообщения из журнала сервера.
- Вся информация в боте настраиваема.
- Поддерживает двустороннюю коммуникацию с помощью протокола RCON Minecraft.
- Может получать статистику сервера с использованием протокола запроса Minecraft.
- Имеет команды для получения количества игроков и различной статистики.
- Позволяет запускать команды сервера через Discord.
- Имеет настраиваемый статус, который может отображать статистику.
- Может отображать MOTD сервера в виде изображения (не будет работать в версии 1.6 и ниже).

### Настройка вебхука:
1. Перейдите в каталог вашего сервера и склонируйте этот репозиторий.
2. Отредактируйте файл `config.py` и добавьте URL вебхука Discord. Также отредактируйте версию MC и расположение сервера MC (должен быть абсолютный путь). Наконец, убедитесь, что в `config.py` установлено значение `webhook = True`.
3. Запустите программу, выполнив команду `python3 main.py`.

### Настройка бота:
1. Перейдите в каталог вашего сервера и склонируйте этот репозиторий.
2. Установите `py-cord` и `Pillow`: `pip3 install py-cord Pillow`
3. Откройте файл `server.properties` и включите протокол RCON и установите пароль. Также в том же файле включите протокол запроса.
4. Отредактируйте файл `config.py`, введите токен вашего бота и ID канала, который нужно связать с Minecraft. Отредактируйте версию MC и расположение сервера MC (должен быть абсолютный путь).
5. В файле `config.py` измените пароль для сервера RCON на тот, который вы установили на шаге 3.
6. Дополнительно: свяжите канал с консолью сервера, установив значение `console_channel = True` и указав ID канала в `config.py`.
7. Запустите программу, выполнив команду `python3 main.py`.

### Скрипт Bash:
Используйте этот скрипт, чтобы запустить PM-Chat и запустить его в фоновом режиме. Для работы необходим установленный GNU Screen (`sudo apt install screen` в системах Debian).
```
#!/bin/bash

# Пример пути, здесь нужно изменить
cd /root/pm-nodes/server
screen -dmS pm-chat python3 main.py
```

### Список команд:
Здесь символ `!` используется в качестве префикса, но это можно изменить.
- `!players` - Показывает список игроков онлайн.
- `!stats` - Получает различную статистику о сервере.
- `!run [cmd]` - Выполняет команду на сервере (доступно только пользователям с доступом к настроенному каналу консоли сервера).
- `!motd (address) (port)` - Отображает MOTD сервера в виде изображения.
- `!help` - Показывает сообщение со справкой.

Примечание: Это было протестировано на хостингах PM-Nodes, CoreNodes и Deplos.
Также стоит отметить что инструкция подразумевает использование VPS/VDS на Linux.
